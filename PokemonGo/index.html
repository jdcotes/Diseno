<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="initial-scale=1.0">
    <style>
      html,body {
        height: 100%;
        margin: 0 auto;
        padding: 0;
      } 
      #map {
        height: 600px;
        width: 800px;
      }
    </style>
<title>Prueba Pokemon GO</title>
<script type="text/javascript">
var intervalo;
var map;
var entro = 0;
var myLatLng;
var latold = 0;
var lngold = 0;
var control = 0;
var marker;
intevalo1 = setInterval(function(){CurrentPosition()},5000);
function CurrentPosition(){
navigator.geolocation.getCurrentPosition(onSuccessGeolocating, onErrorGeolocating,{enableHighAccuracy: true,maximumAge:5000,timeout:10000});
}
function onSuccessGeolocating(position){
  lat = position.coords.latitude;
  lng = position.coords.longitude;
  console.log(lat);
  console.log(lng);
  myLatLng = {lat, lng};
  if (entro == 0){
    var map = new google.maps.Map(document.getElementById('map'), {
    zoom: 17,
    center: myLatLng
    });
    entro = 1;
  }
 var image = 'Marcadores/charmander.png';
 if (latold != lat || lngold != lng){
 
 marker = new google.maps.Marker({
 position: myLatLng,
 map: map,
 icon:image,
 draggable:true,
 title: 'You are Here'
 });
 if (control == 1){
 marker.setMap(null);
 console.log("Borrado");
 }
 latold=lat;
 lngold=lng;
 control = 1;
 console.log("aqui estoy");
 }
  initMap();
}
function onErrorGeolocating(position){
  alert("No se adquirieron datos");
}

function initMap() {

 // var image = 'Marcadores/charmander.png';
 // var marker = new google.maps.Marker({
 // position: myLatLng,
 // map: map,
 // icon:image,
 // title: 'You are Here'
 // });
//   var marker = new google.maps.Marker({
//     position: {lat: 11.020972, lng: -74.849201},
//     map: map,
//     draggable:true,
//     title: 'You are Here'
//   });
//     var marker = new google.maps.Marker({
//     position: {lat: 11.017249, lng: -74.851759},
//     map: map,
//     draggable:true,
//     title: 'You are Here'
//   });
//       var marker = new google.maps.Marker({
//     position: {lat: 11.017249, lng: -74.849201},
//     map: map,
//     draggable:true,
//     title: 'You are Here'
//   });
}

</script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDsFelqvBHeiBZ9KEmCJ31cVXQjdo0aASk&callback=initMap"
        async defer></script>
</head>
<body>
<center>
<font face="helvetica">
 

<br>
<br>

            <td > <center id='map'></center> </td>

</font>
</center>

</body>
</html> 